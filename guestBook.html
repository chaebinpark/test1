<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap');

        :lang(en) {
            font-family: 'Noto Sans', sans-serif; /* 영어 텍스트에만 Noto Sans 적용 */
        }
        
        body{
            margin: 0; /* 기본 마진 제거 */
            height: 2400px; /* 전체 화면 높이 설정 */
            background: url('insightBack.png');
        }

        /*헤더 css 시작*/

        header {
            position: relative; /* 자식 요소에 절대 위치를 적용하기 위해 상대 위치 설정 */
            width: 100%;
            height: 720px;
            overflow: hidden; /* 비디오가 header를 넘어가지 않도록 설정 */
        }

        video {
            position: absolute; /* 비디오를 절대 위치로 설정 */
            top: 50%;
            left: 50%;
            width: 100%; /* 비디오 너비를 header와 동일하게 설정 */
            height: auto; /* 비디오 비율 유지 */
            transform: translate(-50%, -50%); /* 비디오 중앙 정렬 */
            z-index: 0; /* 비디오를 배경으로 설정 */
        }

        video {
            position: absolute; /* 비디오를 절대 위치로 설정 */
            top: 50%;
            left: 50%;
            width: 100%; /* 비디오 너비를 header와 동일하게 설정 */
            height: auto; /* 비디오 비율 유지 */
            transform: translate(-50%, -50%); /* 비디오 중앙 정렬 */
            z-index: 0; /* 비디오를 배경으로 설정 */
        }

        /*헤더 css 끝*/

        /*nav css 시작*/
        .navBox {
            background-color: rgba(217, 217, 217, 0); /* 초기 투명도 0 */
            width: 100%;
            height: 100px;
            position: fixed;
            top: 0;
            transition: background-color 0.3s; /* 배경색 변경 애니메이션 */
        }


        nav {
            width: 100%;
            height: 100px;
            position: fixed; /* 고정 위치 설정 */
            top: 58px; /* 페이지 상단에 위치 */
            left: 120px; /* 페이지 왼쪽에 위치 */
            z-index: 1; /* header보다 위에 배치 */
        }
        

        nav ul {
            list-style: none; /* 기본 목록 스타일 제거 */
            padding: 0; /* 패딩 제거 */
            margin: 0; /* 마진 제거 */
            display: flex; /* 가로 정렬 */
        }
        
        nav li {
            margin-right: 80px; /* 항목 간 간격 설정 */
            cursor: pointer;
            font-size: 18px;
            color: #173B66;
            transition: color 0.3s; /* 색상 변경 애니메이션 */
        }
        

        nav a {
            text-decoration: none; /* 기본 밑줄 제거 */
            color: #173B66;
            font-weight: normal;
        }
        /*nav css 끝*/

        .guestBook {
            margin-left: 45%;
            color: #ff4f4f;
        }



        .text {
            width: 100%;
            height: 1400px;
            margin-top: 100px;
        }

        .artist {
            width: 100%;
            height: 550px;
            
        }

        
        .title {
            width: 35%;
            color: #ff4f4f;
            display: flex; /* Flexbox 사용 */
            justify-content: center; /* 수평 중앙 정렬 */
            font-size: 2em; /* 글자 크기를 3배로 설정 */
            font-weight: bold; /* 굵게 설정 (선택 사항) */
        }

        .guestbookDiv {
            display: flex; /* Flexbox 사용 */
            justify-content: center; /* 수평 중앙 정렬 */
            align-items: center; /* 수직 중앙 정렬 */
            width: 100%; /* 전체 너비 사용 */
        }
        .mainArticle2 {
            margin-top: 8% ;
        }


        .book {
            
            height: 368px;
            width: 25%;
            display: flex; /* Flexbox 사용 */
            justify-content: center; /* 수평 중앙 정렬 */
            align-items: center; /* 수직 중앙 정렬 추가 */
            margin-right: 25px;
            
        }

        .write {
            background-color: #ececec;
            margin-left: 25px;
            height: 368px;
            width: 25%;
            display: flex; /* Flexbox 사용 */
            justify-content: center; /* 수평 중앙 정렬 */
            align-items: center; /* 수직 중앙 정렬 추가 */
            border: 1px solid #000; /* 두께 2px, 실선, 검은색 외곽선 */
        }





        @media (max-width : 1220px) {
            body { width: 100%;}
            .navBox {
                background-color: rgba(217, 217, 217, 0); /* 데스크탑에서 초기 투명도 0 */
            }
        }

        @media (max-width : 768px) {
            body {width: 100%;}
            header { width: 100%; height: 423px; }
            .navBox {
               height: 100px;
            }
            .scrolled {
                background-color: rgba(217, 217, 217, 1); /* 스크롤 시 투명도 100 */
            }

        }

        @media (max-width : 480px) {
            body {width: 100%; height: 2900px;}
            header { width: 100%; height: 247px; }
            nav { width: 100%;; top: 20px; left: 20px;}
            nav li { font-size: 15px; margin-right: 50px;}
            .title { font-size: 1.5em; width: 50%;}
            .text {width: 100%; }
            .mainArticle, .mainArticle2 { height: 800px;  }
            .article1 ,.article2, .article3, .article4 {
                width: 70%;
                flex-direction: column; /* 세로 방향으로 정렬 */
            }

            .text {width: 100%; height: 2000px;} 
            .text1, .text3, .text5, .text7 { width: 100%; font-weight: 800;}
    
            .text2, .text4, .text6, .text8{ width: 100%;}
            .sectionTitle {height: 80px;}
            .artist {width: 100%; height: 900px;}
            .artistIMG {flex-direction: column; /* 세로 방향으로 정렬 */ }
            .img1, .img2, .img3 { margin-top: 10%;}
            .navBox {
                background-color: rgba(217, 217, 217, 0); /* 데스크탑에서 초기 투명도 0 */
                height: 70px;
            }
            .scrolled {
                background-color: rgba(217, 217, 217, 1); /* 스크롤 시 투명도 100 */
            }
        }

    </style>
</head>
<body>
    <div class="navBox">
        <nav>
            <ul>
                <li class="insight">Insight</li>
                <li class="el"><a href="/el.html">얼</a></li>
                <li class="outsight"><a href="/outsight.html">Outsight</a></li>
                <li class="guestBook"><a href="" style="color: #ff4f4f;">Guest book</a></li>
            </ul>
        </nav>
    </div>
    <div class="contents" id="content-area">
        <section class="text">
            <div class="title">
                <h1>Guest book</h1>
            </div>
            <div class="guestbookDiv">
                <div class="book">
                  
                </div>
                <div class="write">
                    <input type="text" id="name" placeholder="이름" required>
                    <textarea id="message" placeholder="메시지" required></textarea>
                    <button id="submit">제출</button>
                </div>
            </div>
        </section>
        <script>
            document.getElementById("submit").addEventListener("click", async function() {
                const name = document.getElementById("name").value;
                const message = document.getElementById("message").value;
    
                if (name && message) {
                    try {
                        const response = await fetch('http://localhost:3000/api/entries', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({ name, message }),
                        });
    
                        if (response.ok) {
                            const newEntry = await response.json();
                            const bookDiv = document.querySelector(".book");
                            const entryDiv = document.createElement("div");
                            entryDiv.innerHTML = `<strong>${newEntry.name}</strong>: ${newEntry.message}`;
                            bookDiv.appendChild(entryDiv);
    
                            // 입력 필드 초기화
                            document.getElementById("name").value = '';
                            document.getElementById("message").value = '';
                        }
                    } catch (error) {
                        console.error("Error:", error);
                    }
                } else {
                    alert("이름과 메시지를 모두 입력해주세요.");
                }
            });
    
            // 페이지 로드 시 방명록 항목을 불러옵니다.
            window.onload = async function() {
                const response = await fetch('http://localhost:3000/api/entries');
                const entries = await response.json();
                const bookDiv = document.querySelector(".book");
                entries.forEach(entry => {
                    const entryDiv = document.createElement("div");
                    entryDiv.innerHTML = `<strong>${entry.name}</strong>: ${entry.message}`;
                    bookDiv.appendChild(entryDiv);
                });
            };
        </script>node server.js

</body>
</html>